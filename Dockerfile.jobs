FROM python:3.12-slim

WORKDIR /app

ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1 \
    PYTHONPATH=/app \
    PYTHONIOENCODING=utf-8 \
    LANG=C.UTF-8 \
    LC_ALL=C.UTF-8

COPY pyproject.toml uv.lock /app/

RUN pip install --no-cache-dir uv \
 && uv pip install --system --no-cache -r pyproject.toml

COPY src /app/src

ENTRYPOINT ["python", "-m"]
CMD ["src.jobs.bumawiki.collect_student"]
